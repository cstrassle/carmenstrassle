<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Resources – Zahra Thabet</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta name="twitter:title" content="Resources – Zahra Thabet">
<meta name="twitter:description" content="Zahra Thabet’s personal website">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Zahra Thabet</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./resources.html" aria-current="page"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./zahra_thabet_cv.pdf"> 
<span class="menu-text">CV</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Resources</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="pre-doc-advice-and-resources" class="level2">
<h2 class="anchored" data-anchor-id="pre-doc-advice-and-resources">Pre-Doc Advice and Resources</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>I’m happy that this is still useful 3+ years after I wrote it (while procrastinating writing my undergrad thesis). I periodically check to make sure that the links are not broken, but if you find I have missed one, feel free to email me and let me know. Also, if there are websites I am missing that you found helpful when applying to predocs, let me know and I will add them!</p>
</div>
</div>
<p>Smarter people have already said a lot of what I think needs to be said. I’ve included a ton of links + some original advice below.</p>
<ul>
<li><p><a href="https://raguide.github.io/">EconRA Guide</a>: Covers all steps of the predoc process. Highly recommend reading through.</p></li>
<li><p><a href="https://www.alvinchristian.com/resources">Alvin Christian’s Advice</a>: Advice from a recent predoc.</p></li>
<li><p><a href="https://us17.campaign-archive.com/?u=3d315482a01ddd29e7b7161ac&amp;id=0c0e1b3460">Women in Econ and Policy Pre-Doc Advice Compilation</a></p></li>
<li><p><a href="https://predoc.org/">Predoc.org</a>: You might’ve heard of this. I used it mostly to look for jobs. They host coding and other kinds of workshops that can be helpful.</p></li>
<li><p><a href="https://z-y-huang.github.io/predoc_survey/slides.pdf">Predoc survey</a>: Useful statistics on the industry</p></li>
<li><p>I often get questions about learning how to code. There are many, many lessons online today, but I found <a href="https://software-carpentry.org/lessons/">software carpentry</a> to be super helpful when I was learning almost ten years ago. Luckily it has stood the test of time and gotten even better for giving you a foundation in coding and reproducible analyses. <a href="https://quantecon.org/lectures/">QuantEcon</a> has economics-specific lectures freely available as well and comes highly recommended. This <a href="https://julianreif.com/guide/">Stata guide</a> also looks great.</p></li>
<li><p>If you have an offer, <strong>talk to previous predocs of that PI</strong> and ask about work hours, expectations, stress, &amp; general environment. <em>This is two years of your life!!</em> Make sure that you are as informed as possible before making a decision. If someone wants to hire you, they should give you adequate time to decide and the contact info of former predocs on request and it would be a red flag if they did not.</p>
<ul>
<li><p>What graduate programs did the previous predocs end up in? <strong>Only take a position where you would be happy with the median placement of all former predocs.</strong></p></li>
<li><p>How many hours a week did they work on average?</p></li>
<li><p>How reasonable did they feel like the deadlines were?</p></li>
<li><p>How often did they meet with their PI to talk about their own research ideas, professional growth etc.?</p></li>
<li><p>Is there any predoc cohort / how much interaction do they have with other predocs at the institution?</p></li>
<li><p>What is their physical office like? Are there windows? How often are they expected to work in person versus remote?</p></li>
<li><p>How is the salary / stipend structured? Were they paid on time? How much of their stipend did they spend on rent?</p></li>
<li><p>What is health insurance like? Who covers the premium?</p></li>
<li><p>What opportunities do they have to take graduate-level classes during their predoc? Do they have to cover the cost? Is it for a grade or can they only audit?</p></li>
<li><p>What are the norms around co-authorship with predocs? How will your work be recognized?</p>
<ul>
<li>The norms within econ don’t match up with other fields. In some fields, it is the norm for RAs who contribute a significant amount of time to a project to become co-authors. In econ, this view is often discounted in favor of predocs remaining in the acknowledgments. Here are some interesting discussions of this phenomenon: <a href="https://twitter.com/straightedge/status/1312636836771033089">1</a>, <a href="https://twitter.com/jonj/status/1354171126386208768">2</a></li>
</ul></li>
<li><p>Ask if any of their friends have had a particularly good or bad experiences with certain professors.</p></li>
</ul></li>
</ul>
<section id="finding-jobs" class="level3">
<h3 class="anchored" data-anchor-id="finding-jobs">Finding Jobs</h3>
<ul>
<li><p><a href="https://predoc.org/opportunities">Predoc.org</a> and its <a href="https://twitter.com/predoc_org">Twitter</a></p></li>
<li><p><a href="https://www.nber.org/career-resources/research-assistant-positions-not-nber">NBER</a> (be sure to check both opportunities at the NBER and outside of it)</p></li>
<li><p><a href="https://twitter.com/econ_ra">Econ RA twitter</a></p>
<ul>
<li>Sometimes this account is a little delayed in retweeting things, I would just search <span class="citation" data-cites="econ_ra">@econ_ra</span> on Twitter to see opportunities that @ them.</li>
</ul></li>
<li><p><a href="https://econjobmarket.org/market">Econ Job Market</a> usually skews towards more international positions.</p></li>
<li><p><a href="https://www.fedeconjobs.org/Branches/AllOpportunities.aspx">Fed Econ Jobs</a> it’s surprisingly hard to find this website on google, but it contains a lot of good information if you are interested in RA-ing at the Fed.</p></li>
<li><p>There are certain programs that regularly hire some RAs. Here are a couple:</p>
<ul>
<li><p><a href="https://www.peterblairhenry.com/phd-excellence-initiative/">PhD Excellence Initiative</a></p></li>
<li><p><a href="https://siepr.stanford.edu/programs/predoctoral-research-fellowship-opportunities">SIEPR (Stanford)</a></p></li>
<li><p><a href="https://tobin.yale.edu/programs/pre-doctoral-fellows-program/apply">Tobin (Yale)</a></p></li>
<li><p><a href="https://www.poverty-action.org/work-with-ipa/current-opportunities">Innovations for Poverty Action</a></p></li>
<li><p><a href="https://www.povertyactionlab.org/careers">J-PAL</a></p></li>
<li><p><a href="https://www.microsoft.com/en-us/research/group/microsoft-research-pre-doctoral-research-assistant-program/">Microsoft Research New England</a></p></li>
<li><p><a href="https://www.stern.nyu.edu/programs-admissions/phd/academics/pre-doctoral-program">NYU Stern</a></p></li>
<li><p><a href="https://business.columbia.edu/faculty-staff/research-resources/research-opportunities/predoctoral-fellows-program">Columbia Business School</a></p></li>
<li><p><a href="https://www.gsb.stanford.edu/programs/research-fellows">Stanford GSB</a></p></li>
<li><p><a href="https://epic.uchicago.edu/about/jobs-fellowships/fellowships/predoctoral-fellowship-program/">EPIC UChicago</a></p></li>
<li><p><a href="https://bfi.uchicago.edu/info-for/prep/">Becker Friedman Institute</a></p></li>
<li><p><a href="https://www.kellogg.northwestern.edu/research-support/research-fellows.aspx">Kellogg</a></p></li>
<li><p><a href="https://www.hbs.edu/predoctoral">Harvard Business School</a></p></li>
<li><p><a href="https://research.chicagobooth.edu/famamiller/research/research-professionals">Fama Miller</a></p></li>
<li><p><a href="https://www.chicagobooth.edu/faculty/research-staff">Chicago Booth</a></p></li>
<li><p><a href="https://opportunityinsights.org/joinourteam/">Opportunity Insights</a></p></li>
<li><p><a href="https://kingcenter.stanford.edu/opportunities/prospective-predoctoral-research-fellows">King Center, Stanford</a></p></li>
<li><p>Council of Economic Advisers</p></li>
<li><p><a href="https://www.consumerfinance.gov/about-us/careers/students-and-graduates/">Consumer Financial Protection Bureau</a></p></li>
<li><p><a href="https://www.justice.gov/atr/employment-opportunities-research-analysts">DOJ Antitrust</a></p></li>
<li><p><a href="https://bridgetophd.facultydiversity.columbia.edu/">Columbia Bridge to PhD</a></p></li>
<li><p><a href="https://michiganross.umich.edu/programs/phd/bridges-program">Michigan Bridge to PhD</a></p></li>
</ul></li>
</ul>
</section>
<section id="my-experience" class="level3">
<h3 class="anchored" data-anchor-id="my-experience">My experience</h3>
<p>A little info on my timeline (I applied in the fall of 2021). I started applying to predocs in mid-September. I talked to current and former predocs through the end of September. I did my first coding task at the end of September, and I made my decision during the first half of October.</p>
<ul>
<li><p>SIEPR stipend (which is the same for all predocs)</p>
<ul>
<li><p>2024-2025: 61k, 2023-2024: 58.5k, 2022-2023: 55k</p></li>
<li><p>The stipend is deposited quarterly – the beginning of work was in early July but most people in my cohort were paid for the first time on July 30th.</p></li>
<li><p>I spent 1.05k on rent last year and now am spending 2.1k this year.</p></li>
</ul></li>
<li><p><a href="https://vaden.stanford.edu/insurance-referral-office/cardinal-care-overview-benefits">Health insurance</a> with SIEPR covering the premium. I find that I don’t pay more than $20 for routine services and $100 for ER services. There is a hospital on-campus which is nice.</p></li>
<li><p>One grad course per quarter at Stanford covered by SIEPR (excluding summer).</p></li>
<li><p>Work laptop</p></li>
<li><p>Access to on-campus housing</p>
<ul>
<li>In practice, this isn’t quite correct; no predocs in my cohort got fall housing on-campus through Stanford’s lottery. On-campus housing is quickly approaching / out-pacing the cost of off-campus housing as well. I would say for myself, one of the more stressful parts of the job is getting housing/ moving multiple times within a year and not really knowing that this would happen beforehand.</li>
</ul></li>
<li><p>Access to on-campus amenities like libraries, gym etc.</p></li>
<li><p>Mentoring</p></li>
<li><p>Predoc programming</p></li>
<li><p>20 leave days and 10 holidays. Leave days are not guaranteed but negotiated with professor.</p></li>
<li><p>J-1 visa sponsorship / OPT eligible (I am not an international predoc, so I know less about how this works in practice)</p></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
My experience
</div>
</div>
<div class="callout-body-container callout-body">
<p>As a predoc, my hours varied based off of deadlines, but, in general, I worked 35-40 hours a week. My hours are pretty flexible, if I have a mid-afternoon slump, I can always take a break, go to the gym, and come back to finish work later. In the last year of my predoc, I met with my PI at least once, often more times per week and corresponded over email with him almost daily. My project management and econometric skills have vastly improved.</p>
<p>I found balancing classes with work to be incredibly difficult — much more difficult than I thought it would be — I didn’t have time outside of work and classes to do anything or work on my own ideas, and often felt like I didn’t have enough time to fully appreciate what I was being taught in the courses. Going to class was also disruptive to my workflow. I didn’t walk away with nothing; having the opportunity to take convex optimization with the professor who invented most of the field was particularly helpful in appraoching my PhD. Courses can also be useful for predocs who feel they lack sufficient math/core econ, but that was not my situation. In the end, when I didn’t take courses in my second year, I felt much better applying to PhD applications, maintaining personal relationships, hobbies, etc.</p>
<p>I ended up staying at Stanford for my PhD and I’m very happy with the level of support and mentorship that I have going into the PhD.</p>
</div>
</div>
</section>
</section>
<section id="undergrad-advice" class="level2">
<h2 class="anchored" data-anchor-id="undergrad-advice">Undergrad Advice</h2>
<ul>
<li><p><a href="https://athey.people.stanford.edu/professional-advice">Susan Athey’s Advice</a></p></li>
<li><p><a href="https://drive.google.com/file/d/1QozD6_4_bvMd2o-q-yh9Doc5aQ6i3nPV/view">Alvin Christian’s Advice</a></p></li>
<li><p>For more grad school specific advice look <a href="https://sites.google.com/view/econgradadvice/">here</a>.</p></li>
<li><p>The most helpful places will be looking at the university that you are interested in and seeing if they have information about ‘ideal’ candidates in their application sections. Some are more explicit than others with respect to expected classes etc.</p></li>
<li><p>Alex Albright’s <a href="https://thelittledataset.com/undergrad-thesis-resources/">Thesis Advice</a></p></li>
<li><p>Talk to professors at your university; tell them that you are interested in pursuing a PhD in economics after you graduate. Ask what they think you should do to be best positioned to achieve that goal.</p></li>
</ul>
</section>
<section id="applying-to-economics-phds" class="level2">
<h2 class="anchored" data-anchor-id="applying-to-economics-phds">Applying to Economics PhDs</h2>
<p>I applied to PhD programs in Economics this past year (2023-2024). Here are a couple of pieces of advice that I have.</p>
<ul>
<li><p>Advice I found online on how to approach the personal statement is contradictory at best. Don’t get too bogged down in this – talk to your recommenders and see what they think is the best approach for you.</p></li>
<li><p>Have as many people as possible read your application materials as soon as possible.</p></li>
<li><p>Have a way of tracking deadlines both for yourself and for your recommenders. I used google sheets with the following rows. I shared a version of this spreadsheet with each recommender.</p></li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Have I invited recommender</th>
<th>Recommender submitted</th>
<th>Submission Deadline</th>
<th>Program</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>yes</td>
<td>no</td>
<td>November 29th</td>
<td>University X Economics PhD</td>
</tr>
</tbody>
</table>
<ul>
<li><p>Apply to fee waivers for the GRE and for individual universities if you are eligible. A lot of places require that you do this in advance. When I was applying, I didn’t feel like I had enough time to apply to most waivers because I didn’t think about it until I was ready to submit. Here is a breakdown of my costs (I applied to 23 programs in the US and the UK across econ, finance, and public policy). The GRE costs are high because I retook it, and paid to move the date when I didn’t feel prepared. The average application fee was around $85, and I received fee waivers for 3 programs.</p></li>
<li><p>Here are my costs by category:</p></li>
</ul>
<p><img src="IezuI-cost-of-applying-to-economics-phd.png" class="img-fluid" style="width:80.0%"></p>
<ul>
<li><p>Apply to fellowships if you are eligible for them. They can help boost your application and provide you with better conditions as a PhD student. A couple that I can think of off the top of my head:</p>
<ul>
<li><p><a href="https://www.nsfgrfp.org/applicants/applicant-eligibility/">NSF GRFP</a> (US citizens, nationals, or permanent residents)</p></li>
<li><p><a href="https://www.pdsoros.org/apply/eligibilityu">PD Soros</a></p></li>
<li><p><a href="https://www.unicreditgroup.eu/en/microsites/unicreditfoundation/proposals.html">UniCredit</a></p></li>
<li><p>Search your country of origin + national bank + economics phd fellowship</p></li>
<li><p>Search your undergraduate institution + graduate fellowships (for undergraduates)</p>
<ul>
<li>if your undergraduate institution has a fellowship office it might be useful to meet with them as well.</li>
</ul></li>
<li><p>Consider applying to institution specific fellowships</p>
<ul>
<li><p><a href="https://www.rhodeshouse.ox.ac.uk/scholarships/the-rhodes-scholarship/">Rhodes</a> / <a href="https://www.marshallscholarship.org/">Marshall</a> / <a href="https://us.fulbrightonline.org/">Fullbright</a>, but those are only usable at certain UK institutions. These all have early deadlines.</p></li>
<li><p><a href="https://knight-hennessy.stanford.edu/">Knight-Hennessy</a> at Stanford</p></li>
</ul></li>
</ul></li>
<li><p><a href="https://sites.google.com/view/econgradadvice/">Compilation of other people’s advice</a> ### My Setup</p></li>
<li><p>Things I use everyday</p>
<ul>
<li><p><a href="https://missing.csail.mit.edu/2020/version-control/">GitHub</a> to implement version control with your code.</p></li>
<li><p>ChatGPT for troubleshooting code, writing Tikz diagrams, etc etc. (And GitHub CoPilot, <a href="https://education.github.com/pack">which is free for students</a>, for in-line code suggestions).</p></li>
<li><p>If you use <a href="https://www.overleaf.com">Overleaf</a> set up Dropbox integration.</p>
<ul>
<li>I prefer <a href="https://www.texifier.com/">Texifier</a> (better UI). Can edit documents through Dropbox so it also updates on Overleaf.</li>
</ul></li>
<li><p><a href="https://www.zotero.org/support/quick_start_guide">Zotero</a> for citation management.</p></li>
<li><p><a href="https://goodnotes.com/">GoodNotes</a> (enable some kind of syncing so you don’t risk losing your notes)</p></li>
<li><p>I prefer the simplicity of <a href="https://obsidian.md/">Obsidian</a> over <a href="https://www.notion.so/">Notion</a></p></li>
<li><p><a href="https://libbyapp.com">Libby</a> (app). Borrow free audiobooks from your library! Really nice UI.</p></li>
</ul></li>
<li><p>Portable ergonomic equipment (good for hand/arm pain)</p>
<ul>
<li><p><a href="https://nexstand.io/">Nextstand</a> (h/t <a href="https://njw.fish/">Nic</a>)</p></li>
<li><p><a href="https://www.microsoft.com/en-us/d/microsoft-sculpt-ergonomic-desktop/8xk02kz6k69w?activetab=pivot:overviewtab">Microsoft Sculpt</a> or <a href="https://splitkb.com/products/kyria-pcb-kit?variant=42433243218179">Kyria</a></p></li>
<li><p><a href="https://www.logitech.com/en-us/products/mice/mx-master-3.910-005647.html">Logitech MX Master 3</a></p></li>
</ul></li>
</ul>
</section>
<section id="coding-data-visualization" class="level2">
<h2 class="anchored" data-anchor-id="coding-data-visualization">Coding &amp; Data Visualization</h2>
<p>This doesn’t cover any basic stata/R tutorials; these are just some tools I’ve used in the past.</p>
<ul>
<li><p><a href="https://www.datawrapper.de/">Datawrapper</a> is a really cool no-code tool. I generally like to use R to make visualizations but this automatically creates good-looking graphs that are especially useful in presenting summary data.</p></li>
<li><p><a href="https://www.mathcha.io/">Easily make Tikz Diagrams</a></p></li>
<li><p><a href="https://stata2r.github.io/">Stata2R</a> Learning R if you know Stata.</p></li>
<li><p><a href="https://quantecon.org/lectures/">Quant Econ</a> Python and Julia for Econ.</p></li>
<li><p>I learned to code initally with <a href="https://software-carpentry.org/lessons/">Software Carpentry</a> and find it very straightforward but ymmv.</p></li>
<li><p>I used <a href="https://quarto.org/docs/websites/">Quarto</a> and <a href="https://www.netlify.com/">Netlify</a> to build this website.</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>